<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Food Order Restaurant - Dashboard</title>
  <link rel="stylesheet" href="../css/style.css" type="text/css">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
    integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
</head>


<body onload="firstLoad()">
  <div class="container-fluid p-0">

    <div class="row m-0 p-0">
      <nav id="menu" class="main-content-nav" style="margin-bottom: 2%;">
        <label class="dashboardTitle">Foolicious</label>

        <ul>

          <li><a href="index.html"><i class="fas fa-home"></i></a></li>
      </nav>

      <div class="col-2 pl-0 p-0" style="height: 100vh; margin-top: 5%;">
        <div class="small-box">
          <p class="text-center mt-3 mb-4" style="font-size: 120%; font-weight: 600;">System Control</p>
          <div onclick="showAddingFood()" id="addFood3" class="mt-3 addproductBtn">
            <p class="mb-0 text-white">Add Product<i style="padding-left: 20%;" class="fa fa-plus"
                aria-hidden="true"></i>
            </p>
          </div>
          <div class="mt-4 dashboardBtnLayer">
            <div class="sideIconBar">
              <img src="../assets/Group 261.svg">
            </div>

            <script type="text/javascript">
              $(document).ready(function () {
                $("#addFood3").click(function () {
                  $("#managementFood").css("font-weight", "bold");
                  $("#dashboardText").css("font-weight", "400");
                  $("#managementOrder").css("font-weight", "400");
                  $("#managementUser").css("font-weight", "400");

                  $("#managementFoodBox").css("display", "block");
                  $("#dashboardBox").css("display", "none");
                  $("#managementFoodOrder").css("display", "none");
                  $("#managementUserBox").css("display", "none");
                });
              });

              $(document).ready(function () {
                $("#managementFood").click(function () {
                  $("#managementFood").css("font-weight", "bold");
                  $("#dashboardText").css("font-weight", "400");
                  $("#managementOrder").css("font-weight", "400");
                  $("#managementUser").css("font-weight", "400");

                  $("#managementFoodBox").css("display", "block");
                  $("#dashboardBox").css("display", "none");
                  $("#managementFoodOrder").css("display", "none");
                  $("#managementUserBox").css("display", "none");
                });
              });

              $(document).ready(function () {
                $("#dashboardText").click(function () {
                  $("#dashboardText").css("font-weight", "bold");
                  $("#managementOrder").css("font-weight", "400");
                  $("#managementUser").css("font-weight", "400");
                  $("#managementFood").css("font-weight", "400");

                  $("#managementFoodBox").css("display", "none");
                  $("#dashboardBox").css("display", "block");
                  $("#managementFoodOrder").css("display", "none");
                  $("#managementUserBox").css("display", "none");
                });
              });

              $(document).ready(function () {
                $("#managementOrder").click(function () {
                  $("#managementOrder").css("font-weight", "bold");
                  $("#managementUser").css("font-weight", "400");
                  $("#managementFood").css("font-weight", "400");
                  $("#dashboardText").css("font-weight", "400");

                  $("#managementFoodBox").css("display", "none");
                  $("#dashboardBox").css("display", "none");
                  $("#managementFoodOrder").css("display", "block");
                  $("#managementUserBox").css("display", "none");
                });
              });

              $(document).ready(function () {
                $("#managementUser").click(function () {
                  $("#managementUser").css("font-weight", "bold");
                  $("#managementFood").css("font-weight", "400");
                  $("#dashboardText").css("font-weight", "400");
                  $("#managementOrder").css("font-weight", "400");

                  $("#managementFoodBox").css("display", "none");
                  $("#dashboardBox").css("display", "none");
                  $("#managementFoodOrder").css("display", "none");
                  $("#managementUserBox").css("display", "block");
                });
              });
            </script>

            <div class="text_bar p-2 pr-0">
              <p id="dashboardText" class="mb-0" style="cursor: pointer; font-weight: bold;">Dashboard</p>
            </div>
          </div>

          <div class="mt-2 dashboardBtnLayer">
            <div class="sideIconBar">
              <img src="../assets/ic_settings_24px.svg">
            </div>

            <div class="text_bar p-2 pr-0" style="width: 80%;">
              <p id="managementFood" class="mb-0" style="cursor: pointer;">Food Management</p>
            </div>
          </div>

          <div class="mt-2 dashboardBtnLayer">
            <div class="sideIconBar">
              <img src="../assets/ic_shopping_cart_24px.svg">
            </div>

            <div class="text_bar p-2 pr-0" style="width: 80%;">
              <p id="managementOrder" class="mb-0" style="cursor: pointer;">Manage Purchase Orders</p>
            </div>
          </div>

          <div class="mt-2 dashboardBtnLayer">
            <div class="sideIconBar">
              <img src="../assets/ic_account_box_24px.svg">
            </div>

            <div class="text_bar p-2 pr-0" style="width: 80%;">
              <p id="managementUser" class="mb-0" style="cursor: pointer;">Account Manangement</p>
            </div>
          </div>
        </div>
      </div>

      <div class="col-10 p-0">
        <div class="row m-0 p-0">
          <div class="col-12 bg-white" style="height: 70px;">

          </div>



          <div id="dashboardBox" class="col-12 bg-white mt-1" style="height: 570px;">
            <p class="font-weight-bold" style="font-size: 130%">Dashboard</p>
            <div id="input-food" style="display: none;">

            </div>

            <div class="row m-0">
              <div class="col-xs-12 col-sm-6 col-md-3 p-3">
                <div class="ana_food pt-2 pb-0 pl-4 pr-3 shadow-sm" style="background: #fff;">
                  <p style="font-size: 110%" class="float-left mt-1">Dish</p>
                  <p id="demFood" style="font-size: 200%;font-weight: bold;" class="float-right mt-4 mb-2"></p>
                  <div style="clear: both;"></div>
                </div>
              </div>
              <div class="col-xs-12 col-sm-6 col-md-3 p-3">
                <div class="ana_food pt-2 pb-0 pl-4 pr-3 shadow-sm" style="background: #fff;">
                  <p style="font-size: 110%" class="float-left mt-1">Customer</p>
                  <p id="demCus" style="font-size: 200%;font-weight: bold;" class="float-right mt-4 mb-2"></p>
                  <div style="clear: both;"></div>
                </div>
              </div>
              <div class="col-xs-12 col-sm-6 col-md-3 p-3">
                <div class="ana_food pt-2 pb-0 pl-4 pr-3 shadow-sm" style="background: #fff;">
                  <p style="font-size: 110%" class="float-left mt-1">Done Payment</p>
                  <p id="demPayment" style="font-size: 200%;font-weight: bold;" class="float-right mt-4 mb-2"></p>
                  <div style="clear: both;"></div>
                </div>
              </div>
              <div class="col-xs-12 col-sm-6 col-md-3 p-3">
                <div class="ana_food pt-2 pb-0 pl-4 pr-3 shadow-sm" style="background: #fff;">
                  <p style="font-size: 110%" class="float-left mt-1">Feedback from guests</p>
                  <p id="demComment" style="font-size: 200%;font-weight: bold;" class="float-right mt-4 mb-2"></p>
                  <div style="clear: both;"></div>
                </div>
              </div>
            </div>
            <div class="row m-0">
              <div class="col-6 p-3">
                <div class="payment_food_dash pt-2 pb-0 pl-4 pr-3 shadow-sm" style="height: 300px;background: #fff">
                  <p style="font-size: 110%" class=" mt-1">The order</p>
                  <div class="orderBoxContent" id="scroll-height" data-spy="scroll" data-target="#myScrollspy"
                    data-offset="10">
                    <table class="table table-borderless" style="margin-top: -2%;">
                      <thead>
                        <tr>
                          <th scope="col" style="width: 80%;font-size: 115%;"></th>


                        </tr>
                      </thead>

                      <tbody id="printPaymentDash">


                      </tbody>

                    </table>
                  </div>

                </div>
              </div>

              <div class="col-6 p-3">
                <div class="payment_food_dash pt-2 pb-0 pl-4 pr-3 shadow-sm" style="height: 300px;background: #fff">
                  <p style="font-size: 110%" class=" mt-1">Dish</p>
                  <div class="dishContent" id="scroll-height2" data-spy="scroll" data-target="#myScrollspy"
                    data-offset="10">
                    <table class="table table-borderless" style="margin-top: -8%;">
                      <thead>
                        <tr>

                          <th scope="col" style="width: 60%;font-size: 115%;"></th>

                          <th scope="col" style="width: 40%;font-size: 115%;" class="text-center"></th>

                        </tr>
                      </thead>

                      <tbody id="printManagementFood2">


                      </tbody>

                    </table>
                  </div>
                </div>
              </div>

              <div class="col-6 p-3">
                <div class="payment_food_dash pt-2 pb-0 pl-4 pr-3 shadow-sm" style="height: 300px;background: #fff">
                  <p style="font-size: 110%" class="float-left mt-1">Feedback from Guests</p>
                  <div id="scroll-height2" data-spy="scroll" data-target="#myScrollspy" data-offset="10">
                    <table style="width: 100%">
                      <thead>
                        <tr>
                          <th scope="col" style="width: 33.3%;font-size: 115%;">Single Code</th>
                          <th scope="col" style="width: 33.3%;font-size: 115%;">Customer Name</th>
                          <th scope="col" style="width: 33.3%;font-size: 115%;">Feedback</th>
                        </tr>
                      </thead>

                      <tbody id="commentPrint">

                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

            </div>


          </div>

          <div id="managementFoodOrder" class="col-12" style="display: none;">
            <p class="font-weight-bold" style="font-size: 130%;">The order</p>
            <div class="shadow-sm pt-2" style="width: 100%; height: 530px; background: #fff;">
              <div class="orderContentTable" id="scroll-height" data-spy="scroll" data-target="#myScrollspy"
                data-offset="10">
                <div class="cart_box pl-5 pt-0 pb-4 pr-4" style="width: 100%; margin: auto">
                  <table class="table table-borderless">
                    <thead>
                      <tr>
                        <th scope="col" style="width: 20%; font-size: 115%">Customer name</th>
                        <th scope="col" style="width: 44%; font-size: 115%" class="text-center">
                          Dish</th>
                        <th scope="col" style="width: 18%; font-size: 115%" class="text-center">
                          Total Money</th>
                        <th scope="col" style="width: 18%; font-size: 115%" class="text-center">
                          Status</th>
                      </tr>
                    </thead>

                    <tbody id="printPayment">

                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <div id="managementUserBox" class="col-12 bg-white mt-1" style="height: 570px; display: none">
            <p class="font-weight-bold" style="font-size: 130%;">Account Management</p>
            <button onclick="showAddUser()" class="btn btn-primary">More Account</button>
            <div id="inputUser" style="display: none;">
              <div class="row m-0 shadow-sm pt-3">

                <div class="col-3">
                  <div class="form-group">
                    <label for="exampleInputEmail1">More account</label>
                    <input type="text" class="form-control" id="userNameAddInput" placeholder="Enter your account name">
                    <input class="float-right nameColumn" type="text" id="txtId" name="txtName">
                  </div>
                </div>

                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInputEmail1">Password</label>
                    <input type="password" class="form-control" id="passwordAddInput" placeholder="Enter your password">
                  </div>
                </div>

                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInputEmail1">Confirm Password</label>
                    <input type="password" class="form-control" id="rePasswordAddInput"
                      placeholder="Enter your password confirmation">
                  </div>
                </div>


                <div class="col-8 p-0 pl-3 pb-4">
                  <button id="addUser" onclick="AddUser()" class="btn btn-primary float-left"
                    style="background: #ff6f47;border: 1px solid #ff6f47;">Add Account</button>
                  <button id="updateUser" onclick="saveUpdateUser()" class="btn btn-warning text-white float-left"
                    style="display: none;">Update</button>
                  <button onclick="CloseUser()" class="btn btn-danger text-white ml-1">Closed</button>
                </div>

              </div>
            </div>

            <div class="cart_box pl-5 pt-4 shadow-sm mt-3 pb-4 innerUserInfo" style="width: 100%; margin: auto;">
              <div id="scroll-height" data-spy="scroll" data-target="#myScrollspy" data-offset="10">
                <table class="table table-borderless">
                  <thead>
                  </thead>
                  <tbody>
                    <div id="printManagementUser" class="row m-0">



                    </div>
                  </tbody>

                </table>
              </div>
            </div>
          </div>


          <div id="managementFoodBox" class="col-12 bg-white mt-1" style="height: 570px; display: none;">
            <p class="font-weight-bold" style="font-size: 130%;">Food Management</p>
            <div id="input-food2" style="display: none;">
              <div class="row m-0 shadow-sm pt-3">
                <div class="col-3">
                  <div class="form-group">
                    <label for="exampleInputEmail1">Name of Food</label>
                    <input type="text" class="form-control" id="foodAddNameInput"
                      placeholder="Enter the name of the dish">
                    <input class="float-right foodManagementBox" type="text" id="txtId" name="txtDishName">
                  </div>
                </div>
                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInputEmail1">Dish Description</label>
                    <input type="text" class="form-control" id="foodAddNoteInput" placeholder="Describe the Dish">
                  </div>
                </div>
                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInputEmail1">Food Cost</label>
                    <input class="form-control" type="number" id="foodAddPriceInput" name="txtPrice"
                      placeholder="Enter the price of the dish" min="0">
                  </div>
                </div>
                <div class="col-3 p-0 pt-3 pl-3" style="height: 100px;">
                  <div class="btn btn-rounded waves-effect btn-sm"
                    style="border-radius: 10px;width: 90%;background: #ff6f47">
                    <span class="text-white">Choose an image
                    </span>
                    <input class="text-white" type="file" name="file" id="foodAddImageInput">
                  </div>
                </div>

                <div class="col-8 p-0 pl-3 pb-4">
                  <button id="addFood2" onclick="AddFood()" class="btn btn-primary float-left addFoodBtn">Add
                    Food</button>
                  <button id="updateFood2" onclick="SaveUpdateFood()" class="btn btn-warning text-white float-left"
                    style="display: none;">Update</button>
                  <button onclick="CloseFood()" class="btn btn-danger text-white ml-1">Closed</button>
                </div>

              </div>
            </div>

            <div class="cart_box pl-5 pt-4 shadow-sm mt-3 pb-4" style="width: 100%; margin: auto;">
              <div class="secondTableSection" id="scroll-height2" data-spy="scroll" data-target="#myScrollspy"
                data-offset="10">
                <table class="table table-borderless">
                  <thead>
                    <tr>
                      <th scope="col" style="width: 40%; font-size: 115%;">Product</th>
                      <th scope="col" style="width: 20%; font-size: 115%;" class="text-center">
                        Cost of Money</th>
                      <th scope="col" style="width: 20%; font-size: 115%;" class="text-center">
                        Manipulation</th>
                    </tr>
                  </thead>

                  <tbody id="printManagementFood">

                  </tbody>
                </table>
              </div>
            </div>
          </div>



        </div>
      </div>


    </div>
  </div>

</body>

<script type="text/javascript">

  function CloseFood() {
    document.getElementById("input-food2").style.display = "none";
    document.getElementById("scroll-height2").style.height = "450px";
  }

  function showAddingFood() {
    document.getElementById("scroll-height2").style.height = "280px";
    document.getElementById("addFood2").style.display = "block";
    document.getElementById("updateFood2").style.display = "none";
    document.getElementById("input-food2").style.display = "block";
    document.getElementById("foodAddNameInput").value = "";
    document.getElementById("foodAddNoteInput").value = "";
    document.getElementById("foodAddPriceInput").value = "";
    document.getElementById("foodAddImageInput").value = "";
  }

  var food = JSON.parse(localStorage.getItem('food'));
  document.getElementById("demFood").innerHTML = food.length;

  var account = JSON.parse(localStorage.getItem('account'));
  document.getElementById("demCus").innerHTML = account.length;

  var foodPayment = JSON.parse(localStorage.getItem('foodPayment'));
  document.getElementById("demPayment").innerHTML = foodPayment.length - 1;

  var commentCustomer = JSON.parse(localStorage.getItem('commentCustomer'));
  document.getElementById("demComment").innerHTML = commentCustomer.length - 1;

  var foodPayment = JSON.parse(localStorage.getItem('foodPayment'));
  if (foodPayment === null) {
    foodPayment = [];
    var foodPayment = [{}];
    localStorage.setItem("foodPayment", JSON.stringify(foodPayment));
  }

  var idupFood = JSON.parse(localStorage.getItem('idupFood'));
  if (idupFood === null) {
    idupFood = [];
    var idupFood = 8;
    localStorage.setItem("idupFood", JSON.stringify(idupFood));
  }

  function AddFood() {
    var id = idupFood;
    var name = document.getElementById('foodAddNameInput').value;
    var note = document.getElementById('foodAddNoteInput').value;
    var price = document.getElementById('foodAddPriceInput').value;
    var secondImage = document.getElementById('foodAddImageInput').value;
    var image = "image/" + secondImage.split("\\")[2];
    if (name != "" && price != "" && note != "" && secondImage != "") {
      var pushFood = { id, name, price, note, image };
      food.push(pushFood);
      localStorage.setItem("food", JSON.stringify(food));
      idupFood++;
      localStorage.setItem("idupFood", JSON.stringify(idupFood));
      ManagementFood();
      console.log(food); //

      var name = (document.getElementById('foodAddNameInput').value = "");
      var note = (document.getElementById('foodAddNoteInput').value = "");
      var price = (document.getElementById('foodAddPriceInput').value = "");
      var image = (document.getElementById('foodAddImageInput').value = "");
    } else {
      alert("Please enter your full information");
    }
  }

  function DeleteFood(id) {
    for (var i = 0; i < food.length; i++) {
      if (id == food[i].id) {
        food.splice(i, 1);

        localStorage.setItem("food", JSON.stringify(food));
        ManagementFood();
      }
    }
  }

  function UpdateFood(id) {
    for (var i = 0; i < food.length; i++) {
      if (id == food[i].id) {
        document.getElementById('input-food2').style.display = 'block';
        document.getElementById("addFood2").style.display = 'none';
        document.getElementById("updateFood2").style.display = 'block';
        document.getElementById("txtId").value = food[i].id;
        document.getElementById("foodAddNameInput").value = food[i].name;
        document.getElementById("foodAddNoteInput").value = food[i].note;
        document.getElementById("foodAddPriceInput").value = food[i].price;
        document.getElementById("foodAddImageInput").value = food[i].image;
        break;
      }
    }
  }

  function SaveUpdateFood() {
    var idChange = document.getElementById("txtId").value;

    for (var i = 0; i < food.length; i++) {
      if (idChange == food[i].id) {
        food[i].name = document.getElementById("foodAddNameInput").value;
        food[i].price = document.getElementById("foodAddPriceInput").value;
        food[i].note = document.getElementById("foodAddNoteInput").value;
        var imageChange = document.getElementById('foodAddImageInput').value;
        localStorage.setItem("food", JSON.stringify(food));
        if (imageChange == '') {

        } else {
          var firstImage = imageChange.split('\\')[2];
          food[i].image = firstImage;
        }

        if (food[i].type == 0 && imageChange != '') {

          food.splice(i, 1);
          localStorage.setItem("food", JSON.stringify(food));
          AddFood();
          ManagementFood();

        }
        ManagementFood();
        break;
      }
    }

    document.getElementById('foodAddNameInput').value = '';
    document.getElementById('foodAddNoteInput').value = '';
    document.getElementById('foodAddPriceInput').value = '';
    document.getElementById('foodAddImageInput').value = '';
    document.getElementById("addFood").style.display = 'block';
    document.getElementById("updateFood").style.display = 'none';
  }

  function ManagementFood() {
    document.getElementById("printManagementFood").innerHTML = "";
    var food = JSON.parse(localStorage.getItem("food"));
    for (let i = 0; i < food.length; i++) {
      var printManage =
        `<tr>
            <td>
                <div>
                    <div class="cart-img-box float-left bg-warning" style="width: 30%; height: 80px">
                        <img src="` +
        food[i].image +
        `" width="100%" height="100%">
                    </div>
                    <div class="cart-info-box float-left pl-3" style="width: 70%; height: 80px;">
                        <p class="mb-1 font-weight-bold" style="font-size: 115%;">` +
        food[i].name +
        `</p>
                        <p style="font-size: 85%">` +
        food[i].note +
        `</p>
                    </div>
                </div>
            </td>
    
            <td class="text-center"><p class="mt-2" style="padding: 5px;">` +
        food[i].price +
        `</p> </td>
            <td class="text-center">'<div class="btn btn-danger text-white ml-2" onclick="DeleteFood(` +
        food[i].id +
        `)" style="width: 16%; border-radius: 10px;"><i class="fa fa-trash" aria-hidden="true"></i></div>
        <div class="btn btn-warning text-white mr-2" onclick="UpdateFood(` +
        food[i].id +
        `)" style="width: 16%; border-radius: 10px;"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></div> </td>
        </tr>`;
      document.getElementById("printManagementFood").innerHTML += printManage;
    }
  }

  function ManagementFood2() {
    document.getElementById("printManagementFood2").innerHTML = "";
    var food = JSON.parse(localStorage.getItem("food"));
    for (let i = 0; i < food.length; i++) {
      var printManage =
        `<tr     style="height: 130px;">
                <td>
                    <div>
                        <div class="cart-img-box float-left bg-warning" style="width: 30%; height: 80px">
                            <img src="` +
        food[i].image +
        `" width="100%" height="100%">
                        </div>
                        <div class="cart-info-box float-left pl-3" style="width: 70%; height: 80px;">
                            <p class="mb-1 font-weight-bold" style="font-size: 115%;">` +
        food[i].name +
        `</p>
                            <p style="font-size: 85%">` +
        food[i].note +
        `</p>
                        </div>
                    </div>
                </td>
        
                <td class="text-center"><p class="mt-2" style="padding: 5px;">` +
        food[i].price +
        `</p> </td>
            </tr>`;
      document.getElementById("printManagementFood2").innerHTML += printManage;
    }
  }

  function paymentPrint() {
    document.getElementById("printPayment").innerHTML = '';

    var foodPayment = JSON.parse(localStorage.getItem('foodPayment'));
    for (let i = 1; i < foodPayment.length; i++) {

      var printPaymentCart = `<tr style="border-bottom:1px solid #ccc;">
      <td>
      <p>Recipient's name: `+ foodPayment[i].customerName + `</p>
      <p>Address: `+ foodPayment[i].customerAddress + `</p>
      <p>Phone number: `+ foodPayment[i].customerPhone + `</p>
       <p>Bank: `+ foodPayment[i].bank + `</p>
      </td>
      
      <td>`+ foodPayment[i].showDetailOrder + `<p id="commentPrintPayment` + foodPayment[i].paymentID + `"></p></td>
      <td class="text-center">`+ foodPayment[i].totalPrice + `</td>
      <td class="text-center"><button id="statusPrint`+ foodPayment[i].paymentID + `" onclick="verifyPayment(` + foodPayment[i].paymentID + `)" class="btn btn-warning text-white">` + foodPayment[i].status + `</button></td>
    </tr>
    `
      document.getElementById("printPayment").innerHTML += printPaymentCart;
    }

  }

  function paymentPrintDash() {
    document.getElementById("printPaymentDash").innerHTML = "";

    var foodPayment = JSON.parse(localStorage.getItem("foodPayment"));
    for (let i = 1; i < foodPayment.length; i++) {
      var printPaymentCart =
        `<tr style="border-bottom: 1px solid #ccc;">
            
                <td>` +
        foodPayment[i].showDetailOrder +
        `</td>
    
            </tr>`;
      document.getElementById("printPaymentDash").innerHTML += printPaymentCart;
    }
  }

  function verifyPayment(id) {
    for (let i = 0; i < foodPayment.length; i++) {
      if (id == foodPayment[i].paymentID) {
        foodPayment[i].status = "";
        localStorage.setItem("foodPayment", JSON.stringify(foodPayment));
        document.getElementById("statusPrint" + id).innerHTML =
          foodPayment[i].status;
      }
    }
  }

  function commentPrint() {
    document.getElementById("commentPrint").innerHTML = '';

    var commentCustomer = JSON.parse(localStorage.getItem('commentCustomer'));
    var account = JSON.parse(localStorage.getItem('account'));
    for (let i = 1; i < commentCustomer.length; i++) {

      var printComment = `<td>` + (commentCustomer[i].idPayment + 1) + `</td>
    <td>`+ account[commentCustomer[i].userID].username + `</td>
    <td>`+ commentCustomer[i].contentComment + `</td>
    ` ;
      document.getElementById("commentPrintPayment" + commentCustomer[i].idPayment).innerHTML = "Feedback From Guest: " + commentCustomer[i].contentComment;
      document.getElementById("commentPrint").innerHTML += printComment;
    }

  }

  function CloseUser() {
    document.getElementById("inputUser").style.display = "none";
    document.getElementById("scroll-height").style.height = "450px";
  }

  function showAddUser() {
    document.getElementById("scroll-height").style.height = "280px";
    document.getElementById("addUser").style.display = "block";
    document.getElementById("updateUser").style.display = "none";
    document.getElementById("inputUser").style.display = "block";
    document.getElementById("inputChangeUser").style.display = "none";
    document.getElementById("foodAddNameInput").value = "";
    document.getElementById("foodAddNoteInput").value = "";
    document.getElementById("foodAddPriceInput").value = "";
    document.getElementById("foodAddImageInput").value = "";
  }

  var accountInfo = [];
  if (accountInfo === null) {
    accountInfo = [];
  }

  var account = [];
  var account = JSON.parse(localStorage.getItem("account"));
  if (account === null) {
    account = [];
  }

  var idChangeUser = 0;

  function updateUser(id) {
    var accountInfo = JSON.parse(localStorage.getItem("accountInfo"));
    document.getElementById("inputUser").style.display = "none";
    document.getElementById("inputChangeUser").style.display = "block";

    for (var i = 1; i < accountInfo.length; i++) {
      if (id == accountInfo[i].accountPayment) {
        idChangeUser = accountInfo[i].accountPayment;
        document.getElementById("txtId").value = i;
        document.getElementById("userNameChangeInput").value =
          accountInfo[i].customerName;
        document.getElementById("addressChangeInput").value =
          accountInfo[i].customerAddress;
        document.getElementById("phoneChangeInput").value =
          accountInfo[i].customerPhone;
        document.getElementById("bankChangeInput").value = accountInfo[i].bank;

        break;
      }
    }

  }

  function saveUpdateUser() {
    var accountInfo = JSON.parse(localStorage.getItem("accountInfo"));
    for (var i = 0; i < accountInfo[i].length; i++) {
      if (idChangeUser == accountInfo[i].accountPayment) {
        accountInfo[i].customerName = document.getElementById(
          "userNameChangeInput"
        ).value;
        accountInfo[i].customerAddress = document.getElementById(
          "addressChangeInput"
        ).value;
        accountInfo[i].customerPhone = document.getElementById(
          "phoneChangeInput"
        ).value;
        accountInfo[i].bank = document.getElementById("bankChangeInput").value;
        localStorage.setItem("accountInfo", JSON.stringify(accountInfo));

        ManagementUser();

        break;
      }
    }

    document.getElementById("userNameChangeInput").value = "";
    document.getElementById("addressChangeInput").value = "";
    document.getElementById("phoneChangeInput").value = "";
    document.getElementById("bankChangeInput").value = "";
  }

  var idup = JSON.parse(localStorage.getItem("idup"));

  function AddUser() {
    var checkUsername = 0;
    var id = idup;
    var username = document.getElementById("userNameAddInput").value;
    var password = document.getElementById("passwordAddInput").value;
    var repassword = document.getElementById("rePasswordAddInput").value;
    var level = 0;
    var role = "member";
    if (
      username != "" &&
      password != "" &&
      repassword != "" &&
      password == repassword
    ) {
      for (let i = 0; i < account.length; i++) {
        if (account[i].username == username) {
          alert("Maximum account already exist!");

          checkUsername = 1;
          break;
        }
      }
      if (checkUsername == 0) {
        accountSignupAdmin = { id, username, password, level, role };
        account.push(accountSignupAdmin);
        localStorage.setItem("account", JSON.stringify(account));
        idup++;
        localStorage.setItem("idup", JSON.stringify(idup));
        console.log(account);
        alert("Register Successful");
        ManagementUser();
      }
    } else {
      alert("Failed");
    }
  }

  function deleteUser(id) {
    var account = JSON.parse(localStorage.getItem("account"));
    for (var i = 0; i < account.length; i++) {
      if (id == account[i].id) {
        id = account[i+1].id;
        console.log(id, "aidi");
        account[i].id = account[i+1].id;
        account.splice(i, 1);
        localStorage.setItem("account", JSON.stringify(account));
        ManagementUser();
        break;
      }
    }
  }

  function ManagementUser() {
    document.getElementById("printManagementUser").innerHTML = "";
    var account = JSON.parse(localStorage.getItem("account"));
    for (let i = 0; i < account.length; i++) {
      var printManage =
        `<div class="col-4" style="height: 100px;padding: 2%;">
                    <div class="user-info-admin float-left" style="width: 60%">
                        <p class="font-weight-bold" style="font-size: 120%">` +
        account[i].username +
        `</p>
                        <p>Role: ` + account[i].role + `</p>
                    </div>
                    <div class="user-function-admin float-right" style="width: 40%; display: flex;">
                    <div class="btn btn-danger text-white" onclick="deleteUser(` +
        account[i].id +
        `)" style="width: 40%; border-radius: 10px;"><i class="fa fa-trash" aria-hidden="true"></i></div>
    
                    </div></div>`;
      document.getElementById("printManagementUser").innerHTML += printManage;
    }
  }

  function firstLoad() {
    paymentPrint();
    ManagementFood();
    paymentPrintDash();
    ManagementFood2();
    commentPrint();
    ManagementUser();
  }
</script>

</html>